<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>PSAP 3D</title>
    
    <link href="css/style.css" rel="stylesheet" type="text/css" />
	<!-- <link href="css/font-awesome.css" rel="stylesheet" type="text/css" /> -->
	<link href="css/fonts.css" rel="stylesheet" type="text/css" />
	<link href="css/flex.css" rel="stylesheet" type="text/css" />
	<link href="css/sizes.css" rel="stylesheet" type="text/css" />
	<link href="css/landingpage.css" rel="stylesheet" type="text/css" />

    <!-- Bootstrap -->
    <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	
	<!--start of Drew's headers-->
		<script src="js/popup_script.js"></script>
		<script src="js/popup_newScript.js"></script>
		<script src="js/popup_helperFunctions.js"></script>
		<script src="js/popup_buildPopUp.js"></script>
		<script src="js/config.js"></script>
		<link rel="stylesheet" type="text/css" href="css/popup_newStyle.css">
	<!--end of Drew's headers-->
    
	<STYLE>
		* {
		   	cursor: default;
		}		
		
  		@font-face {
		    font-family: "modernpicwoff";
		    src: url("fonts/modernpics-webfont.woff") format('woff');
		}
  		
		.modernPic
		{
			font-family:'modernpicwoff';
			
		}
		
		@font-face {
		    font-family: "fontAwesome";
		    src: url("fonts/fontawesome-webfont.woff2") format('woff2');
		}
  		
		.fontAwesome
		{
			font-family:'fontAwesome';	
		}
		
		@font-face {
		    font-family: "raleway";
		    src: url("fonts/raleway400.woff2") format('woff2');
		}
  		
		.raleway
		{
			font-family:'raleway';			
		}
		
		body 
		{
			-webkit-user-select: none;
			-moz-user-select: none;
			overflow: hidden;    
			background: radial-gradient(circle at center, #FFFFFF 0%,#B5B5B5 200%);
			background-image: url(images/background/WORLDMAPDOTCS-1-1920x1080.png),url(images/background/PSSbg-1920x1080.png);
			background-repeat: no-repeat;
			background-size: cover;
			background-position: center;		
		}
	</STYLE>
	
	<script id="vertex_shader" type="x-shader/x-vertex">
		
		varying vec2 vUv;
			
		void main()
		{
			vUv = uv;
			vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
			gl_Position = projectionMatrix * mvPosition;
		}
			
	</script>
	
	<script id="fragment_shader" type="x-shader/x-fragment">
		
		uniform vec3 color;
		uniform sampler2D texture;
		varying vec2 vUv;
		void main() 
		{
	  		vec4 tColor = texture2D( texture, vUv );
	    	gl_FragColor = vec4( mix( color, tColor.rgb, tColor.a ), 1.0 );
		}
	</script>
    
  </head>
  <body style="visibility: visible;height:100vh;width:100vw;" ontouchmove="event.preventDefault();" onresize="resize()" ><!--the resize is needed to fit elements on page size change. It is in popup_script.js-->
    
    <div id="Stats-output"></div>
	<div id="menu" class="helvLightFont translateX-100">
    	<div style="position: relative;height: 100%;">
    	<div class="menu-items highlight-menu-item" data-menuitem="solutions">Our Solution</div>
    	<div class="menu-items" data-menuitem="approach">Our Approach</div>
    	<div class="menu-items" data-menuitem="services">Our Services</div>
    	<div class="menu-items" data-menuitem="transformation">Transformation</div>
    	<div class="menu-items" data-menuitem="settings">Settings</div>
    	<div class="menu-items" data-menuitem="logout" style="position: absolute; bottom: 0;">LOG OUT</div>
    	</div>
    </div>    
	
    <div id="main-container">
    	<div id="header" class="helvLightFont display-flex flex-row flex-align-center flex-justify-space-between">
	    	<div class="width30 display-flex flex-align-center">
				<div id="menu-button" class="menu-icon menu-white"></div>
				<div class="ibm-logo"></div>
				<div class="title">Public Safety</div>
			</div>
			<div class="width30 height100 display-flex flex-align-center flex-justify-center">
				<div class="search-box width75 height50 positionRelative display-flex flex-align-center flex-justify-space-between white-txt">
					<div class="search-icon"></div>
					<div class="search-entry">Search</div>
					<div class="search-send"></div>
				</div> 			
			</div>   	
	    	<div class="width30 display-flex flex-justify-end flex-align-center">
	    		<!-- <div class="user-profile-icon"></div><div class="settings-icon"></div><div class="logout-icon"></div> -->
	    		<div id="emailId" class="white-txt" style="margin-right:2rem;font-size:1.5rem;"></div>
	    		<div class="user-image"></div>
	    	</div>
	    </div>
	    
	    <div id="breadcrum-strip" class="helvLightFont breadcrum-strip display-flex flex-align-center white-txt">
	    	<div class="categories-parent display-flex flex-align-center">
	    		<div class="categories breadcrum-items" data-breadcrumitem="categories"></div>
	    		<div class="arrow"></div>
	    	</div>
	    	<div class="solutions-parent display-flex flex-align-center">
	    		<div class="solutions breadcrum-items" data-breadcrumitem="solutions"></div>
	    		<div class="arrow"></div>
	    	</div>
	    	<div class="offerings-parent display-flex flex-align-center">
	    		<div class="offerings breadcrum-items" data-breadcrumitem="offerings"></div>
	    		<div class="arrow display-none"></div>
	    	</div>	    	
	    </div>
	    
	    <div id="canvas-container">
	    	<div id="breadcrum-container" class="display-none helvLightFont breadcrum-container helvLightFont display-flex">
	    		<div class="categories-parent display-flex ">
	    			<div class="categories breadcrum-items display-flex flex-align-center flex-justify-center" data-breadcrumitem="categories"></div>
	    			<div class="triangle">
	    				<svg width="15" height="100">
						    <polygon points="0 100,15 50,0 0"></polygon>
						</svg>
	    			</div>
	    		</div>	    		
	    		<div class="solutions-parent display-flex">
	    			<div class="solutions breadcrum-items display-flex flex-align-center flex-justify-center" data-breadcrumitem="solutions"></div>
	    			<div class="triangle">
	    				<svg width="15" height="100">
						    <polygon points="0 100,15 50,0 0"></polygon>
						</svg>
	    			</div>
	    		</div>	    		
	    		<div class="offerings-parent display-flex">
	    			<div class="offerings breadcrum-items display-flex flex-align-center flex-justify-center" data-breadcrumitem="offerings"></div>
	    			<div class="triangle">
	    				<svg width="15" height="100">
						    <polygon points="0 100,15 50,0 0"></polygon>
						</svg>
	    			</div></div>	    		
	    	</div>
	    	<div id="WebGL-output"></div>
		    <!-- <div id="canvas-overlay" class="xdisplay-none">
		    	<div class="image"></div>
		    </div> -->
			<div id="assetsSlider" class="hidden">
				</span>
					<svg id="slideUpCloseArrow" onclick="togglePopUpWidth()">
						<line style="stroke:#525659; stroke-width:1px" />
						<line style="stroke:#525659; stroke-width:1px" />
					</svg>
				</span>
				<span>
						<div id="assetsTitle">
							<span>Showing <span id="numberOfResults" style="color:black">00</span> results <span id="resultsName"></span></span>
							<span id="jumpList">
								
							</span>
						</div>
						<div class="containerForResults"><div id="assetsHolder"></div></div>
				<span>
			</div>		    
	    </div>
    </div>
    <!-- <canvas id="textureCanvas"></canvas> -->
    <!-- <div id="footer"></div> -->

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> -->
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- <script src="js/bootstrap.min.js"></script> -->
    
     <script type="text/javascript" src="js/Threejs/jquery.min.js"></script>
	<!-- <script type="text/javascript" src="js/Threejs/Three-r71.js"></script> -->
	<script type="text/javascript" src="js/Threejs/Three.js"></script>
	<script type="text/javascript" src="js/Threejs/OrbitControls.js"></script>
	<script type="text/javascript" src="js/Threejs/stats.min.js"></script>
	<script type="text/javascript" src="js/Threejs/Detector.js"></script>
	<script type="text/javascript" src="js/Threejs/dat.gui.min.js"></script>
	<script type="text/javascript" src="js/Threejs/Tween.js"></script>
	<script type="text/javascript" src="js/Threejs/Projector.js"></script>
	
	<script type="text/javascript" src="js/Threejs/threex.dynamictexture.js"></script>
	
	<!-- <script type="text/javascript" src="js/Threejs/threex.domevents.js"></script> -->
	<!-- <script type="text/javascript" src="js/threex.domevent.object3d.js"></script> -->
	
	<!-- <script type="text/javascript" src="js/Threejs/rasterizeHTML.allinone.js"></script> -->
	<script type="text/javascript" src="js/rasterizeTexture.js"></script>
	<script type="text/javascript" src="js/psapmenu.js"></script>
    <script type="text/javascript" src="js/accessdata.js"></script>
    <script type="text/javascript" src="js/jsondata.js"></script>	
	<script type="text/javascript" src="js/movements.js"></script>
	<script type="text/javascript" src="js/cubegeneration.js"></script>
	<script type="text/javascript" src="js/cubeinteraction.js"></script>
	<script type="text/javascript" src="js/errorcube.js"></script>
	
	<!-- 
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-session-timeout.js"></script>
	 -->
	<!--make sure this is last-->
	<script type="text/javascript" src="js/scene.js"></script>
	
	<script>
		var onUserAction;
		var webGLWidth, webGLHeight;
		var DEVELOPMENT = undefined;
		$( function(){
			if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) 
			{
				onUserAction = "touchstart";
			}
			else
			{
				onUserAction = "click";
			}
			
			webGLWidth = $('#WebGL-output').innerWidth();
			webGLHeight = $('#WebGL-output').innerHeight();
			
			/* document.body.ontouchmove = function(){
				e.preventDefault();
			}; */
			
			menuClicked = "categories";
			
			DEVELOPMENT = false;
			
			initializeClicks();
			
			getUserDetails();
			
			initializeScene();
		});
		
		
		window.addEventListener( 'resize', onWindowResize, false );
		window.addEventListener( 'load', function(){ slideArrowLeft(); }, false );
		//window.addEventListener( 'load', function(){ showPopUp(2001, 201); }, false ); // TODO REMOVE!
	</script>

	<!-- <button id="thisShouldBeRemoved" onclick="showPopUp(2001, 201)" style="z-index:5; position:fixed; left:100px; top:100px;">Click to reveal assets with showPopUp(2001, 201)</button>
	<button id="thisShouldBeRemovedToo" onclick="hidePopUp()" style="z-index:5; position:fixed; left:100px; top:125px;">Click to hide assets with hidePopUp()</button> -->
	<img id="xIcon" src="images/x.png" onclick="closeButton()" class="hidden xIcon"></img>
	<!--<div id="greyOutBox" class="hidden" onclick="closeButton()"></div>--> 
	<div id='divForFindingEMSize' style=" width:1rem; position:absolute; left:-10000; right:-10000;"></div><!--if this is removed the page wont format correctly-->
	<div id="buttonForSizing" style="order:1; position:fixed; left:-500px;" class="asset offScreen"></div>
  </body>
</html>